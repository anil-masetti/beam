(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{174:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[id]",function(){return t(4938)}])},8416:function(e,n,t){"use strict";t.d(n,{l:function(){return o}});var s=t(5893),r=t(8063),i=t(9879),a=t(1664);function o(e){var n=e.author,t=e.date;return(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,s.jsx)(a.default,{href:"/profile/".concat(n.id),children:(0,s.jsxs)("a",{className:"relative inline-flex",children:[(0,s.jsx)("span",{className:"hidden sm:flex",children:(0,s.jsx)(r.q,{name:n.name,src:n.image})}),(0,s.jsx)("span",{className:"flex sm:hidden",children:(0,s.jsx)(r.q,{name:n.name,src:n.image,size:"sm"})})]})}),(0,s.jsxs)("div",{className:"flex-1 text-sm sm:text-base",children:[(0,s.jsx)("div",{children:(0,s.jsx)(a.default,{href:"/profile/".concat(n.id),children:(0,s.jsx)("a",{className:"font-medium tracking-tight transition-colors hover:text-blue",children:n.name})})}),(0,s.jsxs)("p",{className:"tracking-tight text-secondary",children:[(0,s.jsx)("time",{dateTime:t.toISOString(),children:(0,i.Z)(t)})," ","ago"]})]})]})}},554:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var s=t(5893),r=t(370);t(7294);function i(e){var n=e.children,t=e.className;return(0,s.jsx)("div",{className:(0,r.A)("p-6 font-semibold leading-snug border rounded bg-yellow-light border-yellow-light",t),children:n})}},2629:function(e,n,t){"use strict";t.d(n,{Vq:function(){return c},cZ:function(){return l},kX:function(){return d},$N:function(){return u},Be:function(){return m},iK:function(){return h}});var s=t(5893),r=t(4952),i=t(9196),a=t(5220),o=t(7294);function c(e){var n=e.isOpen,t=e.onClose,r=e.children,c=e.initialFocus;return(0,s.jsx)(i.u.Root,{show:n,as:o.Fragment,children:(0,s.jsx)(a.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:t,initialFocus:c,children:(0,s.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,s.jsx)(i.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-50",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(a.V.Overlay,{className:"fixed inset-0 transition-opacity bg-gray-700 opacity-90 dark:bg-gray-900"})}),(0,s.jsx)(i.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-50",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsx)("div",{className:"inline-block w-full max-w-md mt-[15vh] mb-8 overflow-hidden text-left align-middle transition-all transform bg-primary rounded-lg shadow-xl dark:border",children:r})})]})})})}function l(e){var n=e.children;return(0,s.jsx)("div",{className:"px-6 pt-6 pb-12",children:n})}function d(e){var n=e.children;return(0,s.jsx)("div",{className:"flex gap-4 px-6 py-4 border-t",children:n})}function u(e){var n=e.children;return(0,s.jsx)(a.V.Title,{as:"h3",className:"text-lg font-semibold",children:n})}function m(e){var n=e.children,t=e.className;return(0,s.jsx)(a.V.Description,{className:t,children:n})}function h(e){var n=e.onClick;return(0,s.jsx)("div",{className:"absolute top-0 right-0 pt-6 pr-6",children:(0,s.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center transition-colors rounded-sm text-secondary hover:text-primary hover:bg-secondary",onClick:n,children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)(r.b0,{className:"w-6 h-6","aria-hidden":"true"})]})})}},9931:function(e,n,t){"use strict";t.d(n,{c:function(){return d},d:function(){return u}});var s=t(5893),r=t(2072),i=t(4952),a=t(370),o=t(5754),c=t(3299),l=t(7294),d=50;function u(e){var n=e.likedBy,t=e.responsive,u=e.onLike,m=e.onUnlike,h=(0,l.useState)(!1),x=h[0],f=h[1],j=(0,c.useSession)().data,g=Boolean(n.find((function(e){return e.user.id===j.user.id}))),p=n.length;return(0,s.jsxs)(o.fC,{delayDuration:300,children:[(0,s.jsx)(o.xz,{asChild:!0,onClick:function(e){e.preventDefault()},onMouseDown:function(e){e.preventDefault()},children:(0,s.jsxs)(r.z,{variant:"secondary",responsive:t,className:(0,a.A)("transition-colors overflow-hidden [transform:translateZ(0)] space-x-1.5",g&&"border-red-300 !bg-red-100 dark:!bg-red-900 dark:border-red-700",x&&"!border-red-600 !bg-red-600 dark:!bg-red-600"),onClick:function(){x||(g?m():(f(!x),u(),setTimeout((function(){f(!1)}),1e3)))},children:[(0,s.jsx)("span",{className:"relative block w-4 h-4 shrink-0",children:g&&!x?(0,s.jsx)(i.rg,{className:"absolute inset-0 text-red scale-1"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h_,{className:(0,a.A)("absolute inset-0 transition-all text-red fill-transparent transform-gpu",x&&"!scale-[12] !fill-red-600")}),(0,s.jsx)("span",{className:(0,a.A)("absolute w-4 h-4 top-0 left-[-.5px] rounded-full ring-inset ring-6 ring-gray-50 transition-all duration-300 transform-gpu z-10",x?"scale-150 !ring-0":"scale-0")}),(0,s.jsx)(i.rg,{className:(0,a.A)("absolute inset-0 transition-transform delay-200 duration-300 text-gray-50 transform-gpu z-10 ease-spring",x?"scale-1":"scale-0")})]})}),(0,s.jsx)("span",{className:(0,a.A)("relative z-10 tabular-nums",x&&"transition-colors duration-100 text-gray-50"),children:p})]})}),(0,s.jsxs)(o.VY,{side:"bottom",sideOffset:4,className:(0,a.A)("max-w-[260px] px-3 py-1.5 rounded shadow-lg bg-secondary-inverse text-secondary-inverse sm:max-w-sm",0===p&&"hidden"),children:[(0,s.jsxs)("p",{className:"text-sm",children:[n.slice(0,d).map((function(e){return e.user.id===j.user.id?"You":e.user.name})).join(", "),p>d&&" and ".concat(p-d," more")]}),(0,s.jsx)(o.Eh,{offset:22,className:"fill-gray-800 dark:fill-gray-50"})]})]})}},4938:function(e,n,t){"use strict";t.r(n);var s=t(4051),r=t.n(s),i=t(5893),a=t(8416),o=t(8063),c=t(554),l=t(2072),d=t(5428),u=t(2629),m=t(7949),h=t(8848),x=t(4952),f=t(7135),j=t(9931),g=t(7097),p=t(801),v=t(4245),y=t(3299),b=t(9008),N=t(1163),k=t(7294),w=t(7536),C=t(2620);function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function A(e,n,t,s,r,i,a){try{var o=e[i](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(s,r)}function O(e){return function(){var n=this,t=arguments;return new Promise((function(s,r){var i=e.apply(n,t);function a(e){A(i,s,r,a,o,"next",e)}function o(e){A(i,s,r,a,o,"throw",e)}a(void 0)}))}}function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){I(e,n,t[n])}))}return e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,r,i=[],a=!0,o=!1;try{for(t=t.call(e);!(a=(s=t.next()).done)&&(i.push(s.value),!n||i.length!==n);a=!0);}catch(c){o=!0,r=c}finally{try{a||null==t.return||t.return()}finally{if(o)throw r}}return i}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"===typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function F(e){return["post.detail",{id:e}]}var L=function(){var e=function(){M(!0)},n=function(){R(!0)},t=function(){var e;u.push("/post/".concat(null===(e=w.data)||void 0===e?void 0:e.id,"/edit"))},s=function(){z(!0)},l=(0,y.useSession)().data,u=(0,N.useRouter)(),f=v.S.useContext(),g=F(Number(u.query.id)),w=v.S.useQuery(g),C=v.S.useMutation(["post.like"],{onMutate:function(){var e=O(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.cancelQuery(g);case 2:return(t=f.getQueryData(g))&&f.setQueryData(g,P({},t,{likedBy:E(t.likedBy).concat([{user:{id:l.user.id,name:l.user.name}}])})),e.abrupt("return",{previousPost:t});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(e,n,t){(null===t||void 0===t?void 0:t.previousPost)&&f.setQueryData(g,t.previousPost)}}),S=v.S.useMutation(["post.unlike"],{onMutate:function(){var e=O(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.cancelQuery(g);case 2:return(t=f.getQueryData(g))&&f.setQueryData(g,P({},t,{likedBy:t.likedBy.filter((function(e){return e.user.id!==l.user.id}))})),e.abrupt("return",{previousPost:t});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(e,n,t){(null===t||void 0===t?void 0:t.previousPost)&&f.setQueryData(g,t.previousPost)}}),A=D(k.useState(!1),2),I=A[0],z=A[1],L=D(k.useState(!1),2),q=L[0],M=L[1],V=D(k.useState(!1),2),U=V[0],R=V[1];if(w.data){var H="ADMIN"===l.user.role,X=w.data.author.id===l.user.id;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.default,{children:(0,i.jsxs)("title",{children:[w.data.title," - Beam"]})}),(0,i.jsxs)("div",{className:"divide-y divide-primary",children:[(0,i.jsxs)("div",{className:"pb-12",children:[w.data.hidden&&(0,i.jsx)(c.j,{className:"mb-6",children:"This post has been hidden and is only visible to administrators."}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold tracking-tighter md:text-4xl",children:w.data.title}),(X||H)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"flex md:hidden",children:(0,i.jsxs)(p.v2,{children:[(0,i.jsx)(p.j2,{as:h.h,variant:"secondary",title:"More",children:(0,i.jsx)(x.YA,{className:"w-4 h-4"})}),(0,i.jsx)(p.sd,{className:"w-28",children:(0,i.jsxs)(p.Cz,{children:[H&&(w.data.hidden?(0,i.jsx)(p.ci,{onClick:n,children:"Unhide"}):(0,i.jsx)(p.ci,{onClick:e,children:"Hide"})),X&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.ci,{onClick:t,children:"Edit"}),(0,i.jsx)(p.ci,{className:"!text-red",onClick:s,children:"Delete"})]})]})})]})}),(0,i.jsxs)("div",{className:"hidden md:flex md:gap-4",children:[H&&(w.data.hidden?(0,i.jsx)(h.h,{variant:"secondary",title:"Unhide",onClick:n,children:(0,i.jsx)(x.tE,{className:"w-4 h-4"})}):(0,i.jsx)(h.h,{variant:"secondary",title:"Hide",onClick:e,children:(0,i.jsx)(x.LA,{className:"w-4 h-4"})})),X&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.h,{variant:"secondary",title:"Edit",onClick:t,children:(0,i.jsx)(x.dY,{className:"w-4 h-4"})}),(0,i.jsx)(h.h,{variant:"secondary",title:"Delete",onClick:s,children:(0,i.jsx)(x.XH,{className:"w-4 h-4 text-red"})})]})]})]})]}),(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(a.l,{author:w.data.author,date:w.data.createdAt})}),(0,i.jsx)(m.u,{html:w.data.contentHtml,className:"mt-8"}),(0,i.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,i.jsx)(j.d,{likedBy:w.data.likedBy,onLike:function(){C.mutate(w.data.id)},onUnlike:function(){S.mutate(w.data.id)}}),(0,i.jsxs)(d.Z,{href:"/post/".concat(w.data.id,"#comments"),variant:"secondary",children:[(0,i.jsx)(x.P$,{className:"w-4 h-4 text-secondary"}),(0,i.jsx)("span",{className:"ml-1.5",children:w.data._count.comments})]})]})]}),(0,i.jsxs)("div",{id:"comments",className:"pt-12 space-y-12",children:[w.data.comments.length>0&&(0,i.jsx)("ul",{className:"space-y-12",children:w.data.comments.map((function(e){return(0,i.jsx)("li",{children:(0,i.jsx)(Q,{postId:w.data.id,comment:e})},e.id)}))}),(0,i.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4",children:[(0,i.jsx)("span",{className:"hidden sm:inline-block",children:(0,i.jsx)(o.q,{name:l.user.name,src:l.user.image})}),(0,i.jsx)("span",{className:"inline-block sm:hidden",children:(0,i.jsx)(o.q,{name:l.user.name,src:l.user.image,size:"sm"})}),(0,i.jsx)(Z,{postId:w.data.id})]})]})]}),(0,i.jsx)(B,{postId:w.data.id,isOpen:I,onClose:function(){z(!1)}}),(0,i.jsx)(T,{postId:w.data.id,isOpen:q,onClose:function(){M(!1)}}),(0,i.jsx)(_,{postId:w.data.id,isOpen:U,onClose:function(){R(!1)}})]})}return w.isError?(0,i.jsxs)("div",{children:["Error: ",w.error.message]}):(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"w-3/4 bg-gray-200 rounded h-9 dark:bg-gray-700"}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full dark:bg-gray-700"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"w-24 h-4 bg-gray-200 rounded dark:bg-gray-700"}),(0,i.jsx)("div",{className:"w-32 h-3 mt-2 bg-gray-200 rounded dark:bg-gray-700"})]})]}),(0,i.jsx)("div",{className:"space-y-3 mt-7",children:E(Array(3)).map((function(e,n){return(0,i.jsxs)(k.Fragment,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,i.jsx)("div",{className:"h-5 col-span-2 bg-gray-200 rounded dark:bg-gray-700"}),(0,i.jsx)("div",{className:"h-5 col-span-1 bg-gray-200 rounded dark:bg-gray-700"})]}),(0,i.jsx)("div",{className:"w-1/2 h-5 bg-gray-200 rounded dark:bg-gray-700"}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,i.jsx)("div",{className:"h-5 col-span-1 bg-gray-200 rounded dark:bg-gray-700"}),(0,i.jsx)("div",{className:"h-5 col-span-2 bg-gray-200 rounded dark:bg-gray-700"})]}),(0,i.jsx)("div",{className:"w-3/5 h-5 bg-gray-200 rounded dark:bg-gray-700"})]},n)}))}),(0,i.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,i.jsx)("div",{className:"w-16 border rounded-full h-button border-secondary"}),(0,i.jsx)("div",{className:"w-16 border rounded-full h-button border-secondary"})]})]})};function Q(e){var n=e.postId,t=e.comment,s=(0,y.useSession)().data,r=D(k.useState(!1),2),c=r[0],l=r[1],d=D(k.useState(!1),2),u=d[0],f=d[1],j=t.author.id===s.user.id;return c?(0,i.jsxs)("div",{className:"flex items-start gap-4",children:[(0,i.jsx)(o.q,{name:t.author.name,src:t.author.image}),(0,i.jsx)(q,{postId:n,comment:t,onDone:function(){l(!1)}})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,i.jsx)(a.l,{author:t.author,date:t.createdAt}),j&&(0,i.jsxs)(p.v2,{children:[(0,i.jsx)(p.j2,{as:h.h,variant:"secondary",title:"More",children:(0,i.jsx)(x.YA,{className:"w-4 h-4"})}),(0,i.jsx)(p.sd,{className:"w-28",children:(0,i.jsxs)(p.Cz,{children:[(0,i.jsx)(p.ci,{onClick:function(){l(!0)},children:"Edit"}),(0,i.jsx)(p.ci,{className:"!text-red",onClick:function(){f(!0)},children:"Delete"})]})})]})]}),(0,i.jsx)("div",{className:"mt-4 pl-11 sm:pl-16",children:(0,i.jsx)(m.u,{html:t.contentHtml})}),(0,i.jsx)(M,{postId:n,commentId:t.id,isOpen:u,onClose:function(){f(!1)}})]})}function Z(e){var n=e.postId,t=D(k.useState(0),2),s=t[0],r=t[1],a=v.S.useContext(),o=v.S.useMutation("comment.add",{onSuccess:function(){return a.invalidateQueries(F(n))},onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}}),c=(0,w.cI)(),d=c.control,u=c.handleSubmit,m=c.reset,h=function(e){o.mutate({postId:n,content:e.content},{onSuccess:function(){m({content:""}),r((function(e){return e+1}))}})};return(0,i.jsxs)("form",{className:"flex-1",onSubmit:u(h),children:[(0,i.jsx)(w.Qr,{name:"content",control:d,rules:{required:!0},render:function(e){var n=e.field;return(0,i.jsx)(g.c,{value:n.value,onChange:n.onChange,onTriggerSubmit:u(h),required:!0,placeholder:"Comment",minRows:4},s)}}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(l.z,{type:"submit",isLoading:o.isLoading,loadingChildren:"Adding comment",children:"Add comment"})})]})}function q(e){var n=e.postId,t=e.comment,s=e.onDone,r=v.S.useContext(),a=v.S.useMutation("comment.edit",{onSuccess:function(){return r.invalidateQueries(F(n))},onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}}),o=(0,w.cI)({defaultValues:{content:t.content}}),c=o.control,d=o.handleSubmit,u=function(e){a.mutate({id:t.id,data:{content:e.content}},{onSuccess:function(){return s()}})};return(0,i.jsxs)("form",{className:"flex-1",onSubmit:d(u),children:[(0,i.jsx)(w.Qr,{name:"content",control:c,rules:{required:!0},render:function(e){var n=e.field;return(0,i.jsx)(g.c,{value:n.value,onChange:n.onChange,onTriggerSubmit:d(u),required:!0,placeholder:"Comment",minRows:4,autoFocus:!0})}}),(0,i.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,i.jsx)(l.z,{type:"submit",isLoading:a.isLoading,loadingChildren:"Updating comment",children:"Update comment"}),(0,i.jsx)(l.z,{variant:"secondary",onClick:s,children:"Cancel"})]})]})}function M(e){var n=e.postId,t=e.commentId,s=e.isOpen,r=e.onClose,a=k.useRef(null),o=v.S.useContext(),c=v.S.useMutation("comment.delete",{onSuccess:function(){return o.invalidateQueries(F(n))},onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}});return(0,i.jsxs)(u.Vq,{isOpen:s,onClose:r,initialFocus:a,children:[(0,i.jsxs)(u.cZ,{children:[(0,i.jsx)(u.$N,{children:"Delete comment"}),(0,i.jsx)(u.Be,{className:"mt-6",children:"Are you sure you want to delete this comment?"}),(0,i.jsx)(u.iK,{onClick:r})]}),(0,i.jsxs)(u.kX,{children:[(0,i.jsx)(l.z,{variant:"secondary",className:"!text-red",isLoading:c.isLoading,loadingChildren:"Deleting comment",onClick:function(){c.mutate(t,{onSuccess:function(){return r()}})},children:"Delete comment"}),(0,i.jsx)(l.z,{variant:"secondary",onClick:r,ref:a,children:"Cancel"})]})]})}function B(e){var n=e.postId,t=e.isOpen,s=e.onClose,r=k.useRef(null),a=(0,N.useRouter)(),o=v.S.useMutation("post.delete",{onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}});return(0,i.jsxs)(u.Vq,{isOpen:t,onClose:s,initialFocus:r,children:[(0,i.jsxs)(u.cZ,{children:[(0,i.jsx)(u.$N,{children:"Delete post"}),(0,i.jsx)(u.Be,{className:"mt-6",children:"Are you sure you want to delete this post?"}),(0,i.jsx)(u.iK,{onClick:s})]}),(0,i.jsxs)(u.kX,{children:[(0,i.jsx)(l.z,{variant:"secondary",className:"!text-red",isLoading:o.isLoading,loadingChildren:"Deleting post",onClick:function(){o.mutate(n,{onSuccess:function(){return a.push("/")}})},children:"Delete post"}),(0,i.jsx)(l.z,{variant:"secondary",onClick:s,ref:r,children:"Cancel"})]})]})}function T(e){var n=e.postId,t=e.isOpen,s=e.onClose,r=k.useRef(null),a=v.S.useContext(),o=v.S.useMutation("post.hide",{onSuccess:function(){return a.invalidateQueries(F(n))},onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}});return(0,i.jsxs)(u.Vq,{isOpen:t,onClose:s,initialFocus:r,children:[(0,i.jsxs)(u.cZ,{children:[(0,i.jsx)(u.$N,{children:"Hide post"}),(0,i.jsx)(u.Be,{className:"mt-6",children:"Are you sure you want to hide this post?"}),(0,i.jsx)(u.iK,{onClick:s})]}),(0,i.jsxs)(u.kX,{children:[(0,i.jsx)(l.z,{variant:"secondary",isLoading:o.isLoading,loadingChildren:"Hiding post",onClick:function(){o.mutate(n,{onSuccess:function(){C.ZP.success("Post hidden"),s()}})},children:"Hide post"}),(0,i.jsx)(l.z,{variant:"secondary",onClick:s,ref:r,children:"Cancel"})]})]})}function _(e){var n=e.postId,t=e.isOpen,s=e.onClose,r=k.useRef(null),a=v.S.useContext(),o=v.S.useMutation("post.unhide",{onSuccess:function(){return a.invalidateQueries(F(n))},onError:function(e){C.ZP.error("Something went wrong: ".concat(e.message))}});return(0,i.jsxs)(u.Vq,{isOpen:t,onClose:s,initialFocus:r,children:[(0,i.jsxs)(u.cZ,{children:[(0,i.jsx)(u.$N,{children:"Unhide post"}),(0,i.jsx)(u.Be,{className:"mt-6",children:"Are you sure you want to unhide this post?"}),(0,i.jsx)(u.iK,{onClick:s})]}),(0,i.jsxs)(u.kX,{children:[(0,i.jsx)(l.z,{variant:"secondary",isLoading:o.isLoading,loadingChildren:"Unhiding post",onClick:function(){o.mutate(n,{onSuccess:function(){C.ZP.success("Post unhidden"),s()}})},children:"Unhide post"}),(0,i.jsx)(l.z,{variant:"secondary",onClick:s,ref:r,children:"Cancel"})]})]})}L.auth=!0,L.getLayout=function(e){return(0,i.jsx)(f.A,{children:e})},n.default=L}},function(e){e.O(0,[33,364,543,944,416,135,97,774,888,179],(function(){return n=174,e(e.s=n);var n}));var n=e.O();_N_E=n}]);