"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{8063:function(e,r,t){t.d(r,{q:function(){return l}});var n=t(5893),a=t(1675),i=t(5675),o=(t(7294),{sm:34,md:48,lg:128}),s={sm:"w-5 h-5",md:"w-6 h-6",lg:"w-16 h-16"};function l(e){var r=e.size,t=void 0===r?"md":r,l=e.name,c=e.src,u=l.charAt(0).toLocaleLowerCase();return(0,n.jsx)("div",{className:"relative inline-flex flex-shrink-0 rounded-full",children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{src:c,alt:l,layout:"fixed",width:o[t],height:o[t],className:"object-cover rounded-full"}),(0,n.jsx)("div",{className:"absolute border border-[rgba(0,0,0,0.04)] rounded-full inset-0"})]}):(0,n.jsxs)("div",{className:"grid",children:[(0,n.jsx)("div",{className:"flex col-start-1 col-end-1 row-start-1 row-end-1",children:(0,n.jsx)("img",{src:"/api/avatar?name=".concat(encodeURIComponent(l)),alt:l,width:o[t],height:o[t]})}),(0,a.x)(u)&&(0,n.jsx)("div",{className:"relative flex items-center justify-center col-start-1 col-end-1 row-start-1 row-end-1",children:(0,n.jsx)("img",{src:"/images/letters/".concat(u,".svg"),className:s[t],alt:""})})]})})}},5428:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(5893),a=t(2072),i=t(1664);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){o(e,r,t[r])}))}return e}function l(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=t(7294).forwardRef((function(e,r){var t=e.href,o=e.as,c=e.replace,u=e.scroll,d=e.shallow,f=e.passHref,m=e.prefetch,h=e.locale,p=e.className,y=e.variant,v=void 0===y?"primary":y,x=e.responsive,b=l(e,["href","as","replace","scroll","shallow","passHref","prefetch","locale","className","variant","responsive"]);return(0,n.jsx)(i.default,{href:t,as:o,replace:c,scroll:u,shallow:d,passHref:f,prefetch:m,locale:h,children:(0,n.jsx)("a",s({},b,{ref:r,className:(0,a.J)({className:p,variant:v,responsive:x})}))})}));c.displayName="ButtonLink"},8848:function(e,r,t){t.d(r,{h:function(){return s}});var n=t(5893),a=t(370);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=t(7294).forwardRef((function(e,r){var t=e.className,s=e.variant,l=void 0===s?"primary":s,c=e.type,u=void 0===c?"button":c,d=o(e,["className","variant","type"]);return(0,n.jsx)("button",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}({},d,{ref:r,type:u,className:(0,a.A)("inline-flex items-center justify-center flex-shrink-0 transition-colors rounded-full h-button w-icon-button focus-ring","primary"===l&&"text-secondary-inverse bg-secondary-inverse hover:text-primary-inverse hover:bg-primary-inverse","secondary"===l&&"border text-primary border-secondary bg-primary hover:bg-secondary",t)}))}));s.displayName="IconButton"},7135:function(e,r,t){t.d(r,{A:function(){return P}});var n=t(5893),a=t(8063),i=t(5428),o=t(7338),s=t(8848),l=t(4952),c=t(801),u=t(370),d=t(4245),f=t(9196),m=t(5220),h=t(1664),p=t(1163),y=t(7294),v=t(5769),x=t(8580);function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){var r=e.useItem,t=e.result,a=y.useRef(null),i=r({ref:a,value:t}),o=i.id,s=(i.index,i.highlight),l=i.select,c=(0,i.useHighlighted)();return(0,n.jsx)("li",{ref:a,id:o,onMouseEnter:s,onClick:l,children:(0,n.jsx)(h.default,{href:"/post/".concat(t.id),children:(0,n.jsx)("a",{className:(0,u.A)("block py-3.5 pl-10 pr-3 transition-colors leading-tight",c&&"bg-blue-600 text-white"),children:t.title})})})}function w(e){var r=e.onSelect,t=g(y.useState(""),2),a=t[0],i=t[1],o=g((0,v.Z)(a,1e3),1)[0],s=(0,p.useRouter)(),c=d.S.useQuery(["post.search",{query:o}],{enabled:o.trim().length>0}),f=(0,x.k)({onSelect:function(e){s.push("/post/".concat(e.value.id)),r()}}),m=f.moveHighlightedItem,h=f.selectHighlightedItem,b=f.useItem;return y.useEffect((function(){var e=function(e){var r=e.code;"ArrowUp"!==r&&"ArrowDown"!==r&&"Enter"!==r||e.preventDefault(),"ArrowUp"===r&&m(-1),"ArrowDown"===r&&m(1),"Enter"===r&&h()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[m,h,s]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:(0,u.A)("absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none transition-opacity",c.isLoading?"opacity-100":"opacity-0"),children:(0,n.jsx)(l.L4,{className:"w-4 h-4 animate-spin"})}),(0,n.jsx)("div",{className:(0,u.A)("absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none transition-opacity",c.isLoading?"opacity-0":"opacity-100"),children:(0,n.jsx)(l.W1,{className:"w-4 h-4","aria-hidden":"true"})}),(0,n.jsx)("input",{type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:"Search",className:"block w-full py-3 pl-10 bg-transparent border-0 focus:ring-0",role:"combobox","aria-controls":"search-results","aria-expanded":!0,value:a,onChange:function(e){i(e.target.value)}})]}),c.data&&(c.data.length>0?(0,n.jsx)("ul",{id:"search-results",role:"listbox",className:"max-h-[286px] border-t overflow-y-auto",children:c.data.map((function(e){return(0,n.jsx)(j,{useItem:b,result:e},e.id)}))}):(0,n.jsx)("div",{className:"border-t py-3.5 px-3 text-center leading-tight",children:"No results. Try something else"})),c.isError&&(0,n.jsxs)("div",{className:"border-t py-3.5 px-3 text-center leading-tight",children:["Error: ",c.error.message]})]})}function N(e){var r=e.isOpen,t=e.onClose;return(0,n.jsx)(f.u.Root,{show:r,as:y.Fragment,children:(0,n.jsx)(m.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:t,children:(0,n.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,n.jsx)(f.u.Child,{as:y.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-50",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(m.V.Overlay,{className:"fixed inset-0 transition-opacity bg-gray-700 opacity-90 dark:bg-gray-900"})}),(0,n.jsx)(f.u.Child,{as:y.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-50",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,n.jsx)("div",{className:"inline-block w-full max-w-md mt-[10vh] mb-8 overflow-hidden text-left align-middle transition-all transform bg-primary rounded-lg shadow-xl dark:border",children:r?(0,n.jsx)(w,{onSelect:t}):(0,n.jsx)("div",{className:"h-12"})})})]})})})}var O=t(1675),k=t(3299),S=t(425);function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function C(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){var r=e.children,t=(0,k.useSession)().data,u=(0,S.F)(),d=u.theme,f=u.themes,m=u.setTheme,p=C(y.useState(!1),2),v=p[0],x=p[1];return(0,n.jsxs)("div",{className:"max-w-3xl px-6 mx-auto",children:[(0,n.jsxs)("header",{className:"flex items-center justify-between gap-4 py-12 md:py-20",children:[(0,n.jsx)(h.default,{href:"/",children:(0,n.jsx)("a",{children:(0,n.jsx)(l.TR,{className:"w-auto text-red-light h-[34px]"})})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,n.jsx)(s.h,{variant:"secondary",onClick:function(){x(!0)},children:(0,n.jsx)(l.W1,{className:"w-4 h-4"})}),(0,n.jsxs)(c.v2,{children:[(0,n.jsx)(c.j2,{className:"relative inline-flex rounded-full group focus-ring",children:(0,n.jsx)(a.q,{name:t.user.name,src:t.user.image,size:"sm"})}),(0,n.jsxs)(c.sd,{className:"w-48",children:[(0,n.jsxs)(c.Cz,{children:[(0,n.jsx)(c.AB,{href:"/profile/".concat(t.user.id),children:"Profile"}),(0,n.jsx)(c.ci,{onClick:function(){return(0,k.signOut)()},children:"Log out"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 px-4 py-3 rounded-b bg-secondary",children:[(0,n.jsx)("label",{htmlFor:"theme",className:"text-sm",children:"Theme"}),(0,n.jsx)("select",{id:"theme",name:"theme",value:d,onChange:function(e){m(e.target.value)},className:"block w-full py-1.5 text-xs border rounded shadow-sm bg-primary border-secondary",children:f.map((function(e){return(0,n.jsx)("option",{value:e,children:(0,O.k)(e)},e)}))})]})]})]}),(0,n.jsxs)(i.Z,{href:"/new",children:[(0,n.jsx)("span",{className:"sm:hidden",children:"Post"}),(0,n.jsx)("span",{className:"hidden sm:block shrink-0",children:"New post"})]})]})]}),(0,n.jsx)("main",{children:r}),(0,n.jsx)("div",{className:"py-20",children:(0,n.jsx)(o.$,{})}),(0,n.jsx)(N,{isOpen:v,onClose:function(){x(!1)}})]})}},801:function(e,r,t){t.d(r,{v2:function(){return f},j2:function(){return m},sd:function(){return h},Cz:function(){return p},AB:function(){return x},ci:function(){return b}});var n=t(5893),a=t(370),i=t(3746),o=t(9196),s=t(1664),l=t(7294);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function d(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function f(e){var r=e.children;return(0,n.jsx)(i.v,{as:"div",className:"relative inline-flex",children:r})}var m=i.v.Button;function h(e){var r=e.children,t=e.className;return(0,n.jsx)(o.u,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)(i.v.Items,{className:(0,a.A)("absolute right-0 z-10 mt-2 origin-top-right border divide-y rounded shadow-lg bg-primary divide-primary top-full focus:outline-none",t),children:r})})}function p(e){var r=e.children;return(0,n.jsx)("div",{className:"py-2",children:r})}function y(e){var r=e.href,t=e.children,a=d(e,["href","children"]);return(0,n.jsx)(s.default,{href:r,children:(0,n.jsx)("a",u({},a,{children:t}))})}function v(e){var r=e.active,t=e.className;return(0,a.A)(r&&"bg-secondary","block w-full text-left px-4 py-2 text-sm text-primary transition-colors",t)}function x(e){var r=e.className,t=e.href,a=e.children;return(0,n.jsx)(i.v.Item,{children:function(e){var i=e.active;return(0,n.jsx)(y,{href:t,className:v({active:i,className:r}),children:a})}})}function b(e){var r=e.className,t=e.children,a=e.onClick;return(0,n.jsx)(i.v.Item,{children:function(e){var i=e.active;return(0,n.jsx)("button",{type:"button",className:v({active:i,className:r}),onClick:a,children:t})}})}},1675:function(e,r,t){function n(e){return e?e[0].toUpperCase()+e.substring(1):e}function a(e){return/[a-zA-Z]/.test(e)}t.d(r,{k:function(){return n},x:function(){return a}})}}]);